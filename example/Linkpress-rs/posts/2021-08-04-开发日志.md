---
title: LinkPress-rs开发日志
date: 2021-08-04
tags:
    - LinkPress
    - Rust
---

## 架构思路 

使用 rocket 作为 server 框架，因此可以同时支持 Tera 和 Hbs 两种模板框架。

命令行使用 clap 框架搭建。

```rust
fn main() {
    println!("Hello LinkPress!");
}
```

使用 pulldown-cmark 解析 Markdown 文件。

### 2021-08-05

为 markdown 解析增加 yaml 格式的 front_matter 解析。

pulldown-cmark 配置支持表格、任务列表。

增加 favicon.ico 路由，更换为 tera 模板（ hbs 模板依然支持）。

是时候准备开始写目录生成和默认主题了。

### 2021-08-08

粗略定义一下项目结构：

```sh
.
├── LinkPress.toml     // 项目设置文件
├── target             // 生成器目标文件夹
│   └── ...
├── posts              // 页面目录，任何非特殊目录均为该类型
│   └── index.md       // index.md 为父目录的页面（可选）
|   └── ...            // 页面目录下文件生成时转化后拷贝至目标同名目录
├── themes             // 主题目录
│   ├── Default        // 具体主题，主题名与目录同名
|   |   └── theme.toml // 主题配置文件
│   │   └── templates  // 主题模板目录
|   |   └── ...        // 其余所有文件与目录生成时直接拷贝至目标根目录
│   └── ...
├── index.md           // 默认目录文件（可选）
└── ...                // 其余所有文件直接复制至目标根目录
```